(function(t){function e(e){for(var s,o,i=e[0],n=e[1],l=e[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);d&&d(e);while(h.length)h.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],s=!0,i=1;i<a.length;i++){var n=a[i];0!==r[n]&&(s=!1)}s&&(c.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},c=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],n=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=n;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0e28":function(t,e,a){},1:function(t,e){},3248:function(t,e,a){},"38a1":function(t,e,a){"use strict";var s=a("fec0"),r=a.n(s);r.a},"3ba5":function(t,e,a){},"3f29":function(t,e,a){"use strict";var s=a("7276"),r=a.n(s);r.a},"54ca":function(t,e,a){"use strict";var s=a("3248"),r=a.n(s);r.a},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{attrs:{id:"nav"}},[a("div",{staticClass:"row justify-content-around"},[a("div",{staticClass:"col-md-3 col-5"},[a("router-link",{attrs:{to:"/characters"}},[a("button",{staticClass:"space btn btn-dark"},[t._v("Characters")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"space btn btn-dark",on:{click:function(e){return t.logout()}}},[t._v("Log Out")])])])],1),a("router-link",{staticClass:"col-md-3 col-2 logo",attrs:{to:"/"}},[a("br")]),a("div",{staticClass:"col-md-3 col-5"},[a("router-link",{attrs:{to:"/chats"}},[a("button",{staticClass:"Chats space btn btn-dark"},[t._v("Chats")])]),a("div",{staticClass:"row"},[a("dice-sim",{staticClass:"space col-12"})],1)],1)],1)]),a("div",[a("router-view")],1)])},c=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"DiceSim"},[a("button",{staticClass:"btn btn-dark",attrs:{type:"button","data-toggle":"modal","data-target":"#diceModal"}},[t._v("Dice Sim")]),a("div",{staticClass:"modal dice",attrs:{id:"diceModal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body bg"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row justify-content-around"},[a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.d20}},[t._v("Roll D20")])]),a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.d12}},[t._v("Roll D12")])]),a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.d10}},[t._v("Roll D10")])]),a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.d8}},[t._v("Roll D8")])]),a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.d6}},[t._v("Roll D6")])]),a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.d4}},[t._v("Roll D4")])]),a("div",{staticClass:"col-3 bttn"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button "},on:{click:t.dPercent}},[t._v("Roll D%")])])]),a("div",{staticClass:"row justify-content-center"},[t._m(1),a("div",{staticClass:"col-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.modifier,expression:"modifier"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.modifier},on:{input:function(e){e.target.composing||(t.modifier=e.target.value)}}})])]),a("div",{attrs:{id:"results"}},[t._v("-")])])]),a("div",{staticClass:"modal-footer bg"})])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header bg"},[a("h5",{staticClass:"modal-title"},[t._v("Dice Simulator")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12"},[a("p",[t._v("Modifier")])])}],n={name:"DiceSim",data(){return{modifier:0}},computed:{},methods:{d20(){let t=Math.floor(20*Math.random())+1;20==t?document.getElementById("results").innerText="NAT 20! CRITICAL SUCCESS!":1==t?document.getElementById("results").innerText="NAT 1! CRITICAL FAIL! ":(t+=+this.modifier,document.getElementById("results").innerText=`Result: ${t}`)},d12(){let t=Math.floor(12*Math.random())+1;t+=+this.modifier,document.getElementById("results").innerText=`Result: ${t}`},d10(){let t=Math.floor(10*Math.random())+1;t+=+this.modifier,document.getElementById("results").innerText=`Result: ${t}`},d8(){let t=Math.floor(8*Math.random())+1;t+=+this.modifier,document.getElementById("results").innerText=`Result: ${t}`},d6(){let t=Math.floor(6*Math.random())+1;t+=+this.modifier,document.getElementById("results").innerText=`Result: ${t}`},d4(){let t=Math.floor(4*Math.random())+1;t+=+this.modifier,document.getElementById("results").innerText=`Result: ${t}`},dPercent(){let t=Math.floor(100*Math.random())+1;document.getElementById("results").innerText=`Result: ${t}%`}},components:{}},l=n,d=(a("a861"),a("2877")),u=Object(d["a"])(l,o,i,!1,null,"8670bd82",null),h=u.exports,m={name:"App",data(){return{}},methods:{logout(){this.$store.dispatch("logout")}},components:{DiceSim:h}},p=m,v=(a("f7c7"),Object(d["a"])(p,r,c,!1,null,"08ad7687",null)),C=v.exports,g=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("br"),a("br"),a("br"),a("br"),t._m(0),t.user._id?a("div",[t._m(1),a("br"),a("subscribed-chats")],1):a("div",[t._v("\n    To use all the features and join the fun please\n    "),a("router-link",{attrs:{to:"/login"}},[t._v("login")]),t._v("!\n  ")],1)])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"welcome"},[a("strong",[t._v("Welcome to Post & Play, an app that lets people play tabletop games, without the tabletop!")]),a("br"),a("br"),a("br")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("strong",[a("div",{staticClass:"current-chats"},[a("u",[t._v("Your Current Chats:")])])])}],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subscribedChats"},[a("div",{staticClass:"row"}),t._l(t.chats,(function(e){return a("div",{key:e._id},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row justify-content-center"},[a("strong",[a("router-link",{staticClass:"col-6 route-color",attrs:{to:{name:"chat",params:{chatId:e._id}}}},[t._v(t._s(e.title))])],1),a("button",{staticClass:"btn btn-danger mybutton",attrs:{type:"button"},on:{click:function(a){return t.unsubscribe(e._id)}}},[a("b",[t._v("Unsubscribe")])])])]),a("br")])}))],2)},y=[],w={name:"subscribedChats",mounted(){this.$store.dispatch("getSubscribedChats")},data(){return{}},computed:{chats(){return this.$store.state.subscribedChats}},methods:{unsubscribe(t){this.$store.dispatch("unsubscribe",t)}},components:{}},$=w,x=(a("ed0c"),Object(d["a"])($,_,y,!1,null,"d03f5e3a",null)),M=x.exports,k={name:"home",components:{subscribedChats:M},computed:{user(){return this.$store.state.user}}},P=k,E=(a("bf38"),Object(d["a"])(P,b,f,!1,null,"3ca59fcc",null)),S=E.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[t.loginForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Login")])]):a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),a("button",{staticClass:"btn btn-warning",attrs:{type:"submit"}},[t._v("Create Account")])]),a("div",{staticClass:"action",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?a("p",[t._v("No account? Click here to Register")]):a("p",[t._v("Already have an account? Click here to Login")])])])},O=[],A={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:""}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},N=A,I=(a("d6db"),Object(d["a"])(N,j,O,!1,null,null,null)),D=I.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("h3",{staticClass:"col-12"},[a("b",[t._v(t._s(t.chat.title))]),a("button",{staticClass:"btn btn-primary mybutton mx-2",on:{click:function(e){return t.subscribe(t.chat._id)}}},[a("b",[t._v("Subscribe")])])]),a("div",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"messageBox col-12 d-flex flex-column-reverse border"},t._l(t.messages,(function(t){return a("message",{key:t._id,attrs:{messageProp:t}})})),1)]),a("messageInput",{staticClass:"m-3"}),a("character-select"),a("active-character-modal")],1)])},R=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message container"},[!0===t.messageProp.dialogueBool?a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"row"},[t.messageProp.character?a("strong",[t._v(t._s(t.messageProp.character.name))]):t._e()]),a("div",{staticClass:"row"},[a("em",[t._v(t._s(t.messageProp.author.name))])])]),a("div",{staticClass:"col-9 d-flex align-items-center"},[a("p",{staticClass:"col-9 dialogue-box",style:t.messageProp.character.style,attrs:{contentEditable:t.user._id==t.messageProp.author._id},domProps:{textContent:t._s(t.messageProp.body)},on:{blur:t.updateText}},[t._v(t._s(t.messageProp.body))])]),t.user._id!=t.messageProp.author._id?a("div"):a("div",{staticClass:"col-12"},[a("div",{staticClass:"row justify-content-right"},[a("div",{staticClass:"col-2 offset-10"},[a("button",[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(e){return t.deleteMessage(t.messageProp)}}})])])])])]):a("div",{staticClass:"row"},[a("br"),a("div",{staticClass:"col-3 col-md-2 text-right"},[a("strong",[t._v(t._s(t.messageProp.author.name)+":")])]),a("div",{staticClass:"col-9 col-md-10 text-left"},[a("p",{attrs:{contentEditable:t.user._id==t.messageProp.author._id},domProps:{textContent:t._s(t.messageProp.body)},on:{blur:t.updateText}}),t.user._id!=t.messageProp.author._id?a("div"):a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2 offset-9"},[a("button",[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(e){return t.deleteMessage(t.messageProp)}}})])])])])])])])},B=[],L={props:["messageProp"],data(){return{message:{body:""},showformModal:!1}},mounted(){this.messageProp.author._id,this.messageProp.chat._id,this.messageProp._id},computed:{currentCharacter(){return this.$store.state.currentCharacter},user(){return this.$store.state.user}},methods:{updateText(t){var e=t.target.innerText;this.messageProp.body=e,this.$store.dispatch("editMessage",this.messageProp),this.showformModal=!1},deleteMessage(t){this.$store.dispatch("deleteMessage",t)},editMessage(t){this.messageProp.body=t.target}},components:{}},F=L,q=(a("71a9"),Object(d["a"])(F,U,B,!1,null,"2d11d460",null)),V=q.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-input"},[a("form",{staticClass:"grid-container",on:{submit:function(e){return e.preventDefault(),t.addMessage(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message.body,expression:"message.body"}],staticClass:"grid-input",attrs:{type:"text",placeholder:"message",required:""},domProps:{value:t.message.body},on:{input:function(e){e.target.composing||t.$set(t.message,"body",e.target.value)}}}),t._m(0)])])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid-button"},[a("button",{staticClass:"btn btn-info",attrs:{type:"submit"}},[t._v("Send")])])}],J={name:"message-input",data(){return{message:{body:""}}},mounted(){return this.$route.params.chatId},computed:{user(){return this.$store.state.user},activeCharacter(){return this.$store.state.activeCharacter}},methods:{addMessage(){let t=this.activeCharacter,e={body:this.message.body,chat:this.$route.params.chatId};t.hasOwnProperty("_id")&&(e.dialogueBool=!0,e.character=t._id),this.$store.dispatch("addMessage",e),this.message={}}},components:{}},Q=J,W=(a("fb81"),Object(d["a"])(Q,z,G,!1,null,"950d1f8e",null)),H=W.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"character-select"},[a("span",{staticClass:"dropup show"},[a("button",{staticClass:"btn btn-info btn-block dropdown-toggle top-margin",attrs:{"data-toggle":"dropdown"}},[t.activeCharacter!={}?a("span",[t._v("Voice: "+t._s(t.activeCharacter.name))]):a("span",[t._v("(No Character Selected)")])]),a("div",{staticClass:"dropdown-menu"},[a("a",{staticClass:"dropdown-item",on:{click:function(e){return t.resetActiveCharacter()}}},[t._v("(None)")]),t._l(t.characters,(function(e){return a("a",{key:e._id,staticClass:"dropdown-item",on:{click:function(a){return t.changeActiveCharacter(e)}}},[t._v(t._s(e.name))])}))],2)])])},K=[],X={name:"character-select",data(){return{}},mounted(){return this.$store.dispatch("getCharacters")},computed:{user(){return this.$store.state.user},characters(){return this.$store.state.characters},activeCharacter(){return this.$store.state.activeCharacter}},methods:{resetActiveCharacter(){this.$store.dispatch("resetActiveCharacter")},changeActiveCharacter(t){let e=t._id;this.$store.dispatch("changeActiveCharacter",e)}},components:{}},Z=X,tt=(a("54ca"),Object(d["a"])(Z,Y,K,!1,null,"0869cc72",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activeCharacter"},[a("br"),a("button",{staticClass:"btn btn-info bottom-margin",attrs:{"data-toggle":"modal","data-target":"#activeCharacterModal"}},[t._v("\n\t\tCurrent Active\n\t\tCharacter!\n\t")]),a("div",{staticClass:"modal",attrs:{id:"activeCharacterModal",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content bg-dark text-light"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",[a("h1",[t._v(t._s(t.activeCharacter.name))]),a("br"),a("h3",[t._v("Character Stats")]),a("div",{staticClass:"text-left"},[a("label",{attrs:{for:"group name"}},[t._v(t._s(t.activeCharacter.stats))])]),a("br"),a("h3",[t._v("Character Description")]),a("div",{staticClass:"text-left"},[a("label",{attrs:{for:"character class"}},[t._v(t._s(t.activeCharacter.description))])])]),!0===t.displayStyle?a("editCharacterStyle",{attrs:{character:t.activeCharacter}}):t._e()],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return t.toggleStyle(t.displayStyle)}}},[t._v("Edit Style")]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])])])])])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header text-center"},[a("h4",{staticClass:"modal-title"},[t._v("Current Active Character")])])}],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-style"},[a("h2",[t._v("Message Style")]),a("p",[a("strong",[t._v("Text Color:")]),a("span",{attrs:{contentEditable:t.user._id==t.activeCharacter.author},domProps:{textContent:t._s(t.activeCharacter.style.color)},on:{blur:t.updateColor}})]),a("p",[a("strong",[t._v("Background Color:")]),a("span",{attrs:{contentEditable:t.user._id==t.activeCharacter.author},domProps:{textContent:t._s(t.activeCharacter.style.background)},on:{blur:t.updateBackground}})]),a("p",[a("strong",[t._v("Border Color:")]),a("span",{attrs:{contentEditable:t.user._id==t.activeCharacter.author},domProps:{textContent:t._s(t.activeCharacter.style.borderColor)},on:{blur:t.updateBordorColor}})]),a("br"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("strong",{staticClass:"row"},[t._v(t._s(t.activeCharacter.name))]),a("em",{staticClass:"row"},[t._v(t._s(t.user.name))])]),a("p",{staticClass:"col-9 dialogue-box",style:t.activeCharacter.style},[t._v("Lorem ipsum dolor, sit amet consectetur adipisicing elit. Nam, doloribus quisquam.")])])])])},ct=[],ot={name:"edit-style",data(){return{}},computed:{user(){return this.$store.state.user},activeCharacter(){return this.$store.state.activeCharacter}},methods:{updateColor(t){let e=t.target.innerText;!1===this.hexValidate(e)?console.error("invalid hex"):(this.activeCharacter.style.color=e,this.$store.dispatch("editCharacter",this.activeCharacter))},updateBackground(t){let e=t.target.innerText;!1===this.hexValidate(e)?console.error("invalid hex"):(this.activeCharacter.style.background=e,this.$store.dispatch("editCharacter",this.activeCharacter))},updateBordorColor(t){let e=t.target.innerText;!1===this.hexValidate(e)?console.error("invalid hex"):(this.activeCharacter.style.borderColor=e,this.$store.dispatch("editCharacter",this.activeCharacter))},hexValidate(t){let e=t.substring(1),a=/^[A-Fa-f0-9]+$/;return"#"===t[0]&&7===t.length&&a.test(e)}},components:{}},it=ot,nt=Object(d["a"])(it,rt,ct,!1,null,"accc55e4",null),lt=nt.exports,dt={name:"Active-Character-Modal",data(){return{character:{},displayStyle:!1}},computed:{user(){return this.$store.state.user},activeCharacter(){return this.$store.state.activeCharacter}},methods:{getActiveCharacter(){this.activeCharacter.authorId=user._id,this.$store.dispatch("getactiveCharacter",this.activeCharacter),this.activeCharacter={}},editCharacter(t){this.$store.dispatch("editCharacter",t)},toggleStyle(t){switch(console.log(t),t){case!1:return this.displayStyle=!0;case!0:return this.displayStyle=!1}}},components:{EditCharacterStyle:lt}},ut=dt,ht=(a("3f29"),Object(d["a"])(ut,at,st,!1,null,"6e6a643c",null)),mt=ht.exports,pt={name:"chat",mounted(){let t=this.$route.params.chatId;this.$store.dispatch("getChat",t),this.$store.dispatch("getMessages",t)},props:[],data(){return{}},computed:{chat(){return this.$store.state.currentChat},messages(){return this.$store.state.messages[this.$route.params.chatId]}},methods:{subscribe(t){this.$store.dispatch("subscribe",t)}},components:{message:V,messageInput:H,CharacterSelect:et,activeCharacterModal:mt}},vt=pt,Ct=(a("38a1"),Object(d["a"])(vt,T,R,!1,null,"f40b4e12",null)),gt=Ct.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"Chats row"},[a("div",{staticClass:"col-12"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addChat(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newChat.title,expression:"newChat.title"}],attrs:{type:"text",placeholder:"title",required:""},domProps:{value:t.newChat.title},on:{input:function(e){e.target.composing||t.$set(t.newChat,"title",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newChat.description,expression:"newChat.description"}],attrs:{type:"text",placeholder:"description"},domProps:{value:t.newChat.description},on:{input:function(e){e.target.composing||t.$set(t.newChat,"description",e.target.value)}}}),a("br"),a("button",{staticClass:"btn btn-success my-2",attrs:{type:"submit"}},[t._v("Make a new chat!")])])])]),a("hr",{staticClass:"top-margin"}),a("div",{staticClass:"row justify-content-center"},[a("strong",t._l(t.chats,(function(e){return a("div",{key:e._id,staticClass:"col-12 my-1"},[a("strong",[a("router-link",{staticClass:"route-color",attrs:{to:{name:"chat",params:{chatId:e._id}}}},[t._v(t._s(e.title)+"\n          ")])],1),t.user._id!=e.author?a("div"):a("div",{staticClass:"col-12"},[a("div",{staticClass:"row justify-content-right"},[a("div",{staticClass:"col-2 offset-10"},[a("button",[a("i",{staticClass:"fas fa-trash-alt",on:{click:function(a){return t.deleteChat(e)}}})])])])])])})),0)])])},ft=[],_t={name:"chats",props:["chat"],mounted(){this.$store.dispatch("getChats")},data(){return{newChat:{title:"",description:""}}},computed:{chats(){return this.$store.state.chats},user(){return this.$store.state.user}},methods:{addChat(){this.$store.dispatch("addChat",this.newChat),this.newChat={title:"",description:""}},deleteChat(t){this.$store.dispatch("deleteChat",t)}},components:{}},yt=_t,wt=(a("79ce"),Object(d["a"])(yt,bt,ft,!1,null,"ce9c09de",null)),$t=wt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"characters container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"offset-3 col-6 text-center"},[t._v("My Characters")]),a("div",{staticClass:"col-12"},[a("character-modal"),a("br"),a("br")],1)])]),a("div",{staticClass:"editcharacter row d-flex justify-content-around"},t._l(t.characters,(function(e){return a("div",{key:e._id,staticClass:"col-11 col-md-5 col-lg-3 card bg-dark text-light m-3"},[a("strong",{staticClass:"card-header text-center"},[t._v(t._s(e.name))]),a("div",{staticClass:"card-body text-left"},[a("p",[t._v(t._s(e.description))])]),a("div",{staticClass:"card-footer text-center"},[a("button",{staticClass:"btn btn-secondary mx-2",attrs:{"data-toggle":"modal","data-target":"#editCharacterModal"+e._id}},[t._v("Edit")]),a("div",{staticClass:"modal",attrs:{id:"editCharacterModal"+e._id,role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0,!0),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"group name"}},[t._v("Character Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"character.name"}],staticClass:"form-control",attrs:{type:"text",id:"charactername",placeholder:""},domProps:{value:e.name},on:{input:function(a){a.target.composing||t.$set(e,"name",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"group name"}},[t._v("Character Stats")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.stats,expression:"character.stats"}],staticClass:"form-control",attrs:{id:"characterStats",placeholder:""},domProps:{value:e.stats},on:{input:function(a){a.target.composing||t.$set(e,"stats",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"character class"}},[t._v("Character Description")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"character.description"}],staticClass:"form-control",attrs:{"aria-label":"With textarea",id:"characterDescription"},domProps:{value:e.description},on:{input:function(a){a.target.composing||t.$set(e,"description",a.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(a){return t.editCharacter(e)}}},[t._v("Submit")])])])]),t._m(1,!0)])])]),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.deleteCharacter(e._id)}}},[t._v("Delete")])])])})),0)])},Mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}}),a("h4",{staticClass:"modal-title"},[t._v("Edit your character")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createCharacter"},[a("button",{staticClass:"btn btn-success",attrs:{"data-toggle":"modal","data-target":"#characterModal"}},[t._v("\n\t\tMake a new\n\t\tcharacter!\n\t")]),a("div",{staticClass:"modal",attrs:{id:"characterModal",role:"dialog"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"group name"}},[t._v("Character Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCharacter.name,expression:"newCharacter.name"}],staticClass:"form-control",attrs:{type:"text",id:"charactername",placeholder:"Character Name"},domProps:{value:t.newCharacter.name},on:{input:function(e){e.target.composing||t.$set(t.newCharacter,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"group name"}},[t._v("Character Stats")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCharacter.stats,expression:"newCharacter.stats"}],staticClass:"form-control",attrs:{type:"text",id:"characterStats",placeholder:"Character Stats"},domProps:{value:t.newCharacter.stats},on:{input:function(e){e.target.composing||t.$set(t.newCharacter,"stats",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"character class"}},[t._v("Character Description")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCharacter.description,expression:"newCharacter.description"}],staticClass:"form-control",attrs:{type:"text",id:"characterDescription",placeholder:"Character Description"},domProps:{value:t.newCharacter.description},on:{input:function(e){e.target.composing||t.$set(t.newCharacter,"description",e.target.value)}}}),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return t.createCharacter(t.user)}}},[t._v("Submit")])])])]),t._m(1)])])])])},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Ã—")]),a("h4",{staticClass:"modal-title"},[t._v("Create a character")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],Et={name:"Character-Modal",data(){return{newCharacter:{description:"",name:"",stats:""}}},computed:{user(){return this.$store.state.user}},methods:{createCharacter(t){this.$store.dispatch("createCharacter",this.newCharacter),this.newCharacter={description:"",name:"",stats:""}}},components:{}},St=Et,jt=Object(d["a"])(St,kt,Pt,!1,null,"7a92f843",null),Ot=jt.exports,At={name:"characters",prop:["characterProp"],data(){return{newCharacter:""}},mounted(){this.$store.dispatch("getCharacters")},computed:{characters(){return this.$store.state.characters}},methods:{getCharacters(){this.$store.dispatch("getActiveCharacter",this.activeCharacter),this.activeCharacter={name:"",stats:"",description:""}},createCharacter(){this.$store.dispatch("createCharacter",this.newCharacter),this.newCharacter={name:"",stats:"",description:""}},deleteCharacter(t){let e=confirm("Are you sure you want to delete this character?");1==e&&this.$store.dispatch("deleteCharacter",t)},editCharacter(t){this.$store.dispatch("editCharacter",t)}},components:{CharacterModal:Ot}},Nt=At,It=(a("dd67"),Object(d["a"])(Nt,xt,Mt,!1,null,"f6ff81ac",null)),Dt=It.exports;s["a"].use(g["a"]);var Tt=new g["a"]({routes:[{path:"/",name:"home",component:S},{path:"/login",name:"login",component:D},{path:"/characters",name:"characters",component:Dt},{path:"/chats",name:"chats",component:$t},{path:"/chats/:chatId",name:"chat",component:gt},{path:"*",redirect:"/login"},{path:"/about",name:"about"}]}),Rt=a("2f62"),Ut=a("bc3a"),Bt=a.n(Ut);let Lt=location.host.includes("localhost")?"//localhost:3000/":"/",Ft=Bt.a.create({baseURL:Lt+"account/",timeout:3e3,withCredentials:!0});class qt{static async Login(t){try{let e=await Ft.post("login",t);return e.data}catch(e){throw new Error(`[login failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Register(t){try{let e=await Ft.post("register",t);return e.data}catch(e){throw new Error(`[registration failed] : ${e.response?e.response.data.error:"No response from server"}`)}}static async Logout(){try{await Ft.delete("logout");return!0}catch(t){throw new Error(`[logout failed] : ${t.response?t.response.data.error:"No response from server"}`)}}static async Authenticate(){try{let t=await Ft.get("authenticate");return t.data}catch(t){console.warn(`[Authentication failed] : ${t.response?t.response.data.error:"No response from server"}`)}}}var Vt=a("4bea"),zt=a.n(Vt);let Gt={},Jt=window.location.host.includes("localhost:8080")?"//localhost:3000/":"/",Qt=Bt.a.create({baseURL:Jt+"api/",timeout:3e3,withCredentials:!0});s["a"].use(Rt["a"]);var Wt=new Rt["a"].Store({state:{user:{},chats:[],currentChat:{},messages:{},subscribedChats:[],currentMessage:{},characters:[],currentCharater:{},activeCharacter:{},inventory:[],items:{},groups:[],activeGroup:{}},mutations:{resetState(t){t.user={},t.chats=[],t.messages={},t.currentChat={},t.subscribedChats=[],t.characters=[],t.activeCharacter},setUser(t,e){t.user=e},setChats(t,e){t.chats=e},setSubscribedChats(t,e){t.subscribedChats=e},setCharacter(t,e){t.characters=e},setActiveCharacter(t,e){t.activeCharacter=e},setCurrentChat(t,e){t.currentChat=e},setItem(t,e){t.items=e},setMessages(t,e){s["a"].set(t.messages,e.chatId,e.messages)},editMessage(t,e){t.currentMessage=e}},actions:{initializeSocket({commit:t,dispatch:e}){Gt=zt()("//post-n-play.herokuapp.com"),Gt.on("CONNECTED",t=>{console.log("Connected to socket")}),Gt.on("addMessage",t=>{e("getMessages",t.chat)})},joinRoom({commit:t,dispatch:e},a){Gt.emit("join",{boardId:a})},leaveRoom({commit:t,dispatch:e},a){Gt.emit("leave",{boardId:a})},async register({commit:t,dispatch:e},a){try{let e=await qt.Register(a);t("setUser",e),Tt.push({name:"home"})}catch(s){console.warn(s.message)}},async login({commit:t,dispatch:e},a){try{let e=await qt.Login(a);t("setUser",e),Tt.push({name:"home"})}catch(s){console.warn(s.message)}},async logout({commit:t,dispatch:e}){try{await qt.Logout();t("resetState"),Tt.push({name:"login"})}catch(a){console.warn(a.message)}},async getChats({commit:t,dispatch:e}){try{let e=await Qt.get("/chat");t("setChats",e.data)}catch(a){console.error(a)}},async createCharacter({commit:t,dispatch:e},a){try{await Qt.post("/characters",a),e("getCharacters")}catch(s){console.error(s)}},async deleteCharacter({commit:t,dispatch:e},a){try{await Qt.delete("/characters/"+a),e("getCharacters")}catch(s){console.error(s)}},async editCharacter({commit:t,dispatch:e},a){try{let s=await Qt.put("/characters/"+a._id,a);t("setCharacter",s),e("getCharacters")}catch(s){console.error(s)}},async getCharacters({commit:t,dispatch:e}){try{let e=await Qt.get("/characters");t("setCharacter",e.data)}catch(a){console.error(a)}},async getCharacter({commit:t,dispatch:e},a){try{let e=await Qt.get("/characters/"+a);t("setActiveCharacter",e.data)}catch(s){console.error(s)}},resetActiveCharacter({commit:t,dispatch:e}){t("setActiveCharacter",{})},async changeActiveCharacter({commit:t,dispatch:e},a){try{let e=await Qt.get("/characters/"+a);t("setActiveCharacter",e.data)}catch(s){console.error(s)}},async addChat({commit:t,dispatch:e},a){try{await Qt.post("chat",a),e("getChats")}catch(s){console.error(s)}},async getChat({commit:t,dispatch:e},a){try{let e=await Qt.get("chat/"+a);t("setCurrentChat",e.data)}catch(s){console.error(s)}},async getMessages({commit:t,dispatch:e},a){try{let e=await Qt.get("chat/"+a+"/messages"),s={chatId:a,messages:e.data};t("setMessages",s)}catch(s){console.error(s)}},async addMessage({commit:t,dispatch:e},a){try{await Qt.post("/messages",a);e("getMessages",a.chat)}catch(s){console.error(s)}},async deleteChat({commit:t,dispatch:e},a){try{await Qt.delete("/chat/"+a._id);e("getChats")}catch(s){console.error(s)}},async deleteMessage({commit:t,dispatch:e},a){try{await Qt.delete("/messages/"+a._id);e("getMessages",a.chat._id)}catch(s){console.error(s)}},async editMessage({commit:t,dispatch:e},a){try{let s=await Qt.put("/messages/"+a._id,a);t("editMessage",s.data),e("getMessages",a.chat._id)}catch(s){console.error(s)}},async getSubscribedChats({commit:t,dispatch:e}){try{let e=await Qt.get("chat/subscriptions");t("setSubscribedChats",e.data)}catch(a){console.error(a)}},async unsubscribe({commit:t,dispatch:e},a){try{await Qt.delete("/chat/subscriptions/"+a);e("getSubscribedChats")}catch(s){console.error(s)}},async subscribe({commit:t,dispatch:e},a){try{await Qt.post("/chat/subscriptions/"+a);e("getChats")}catch(s){}}}}),Ht=a("05b2"),Yt=a.n(Ht),Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.toggle?a("div",{staticClass:"card show",attrs:{id:"modal"}},[t._t("default",[a("h1",[t._v("MODAL GOES HERE")])]),a("div",{staticClass:"modal-footer d-flex align-items-center"},[t._t("modal-footer"),a("button",{staticClass:"ml-1 btn btn-danger",on:{click:t.closeModal}},[t._v("CLOSE")])],2)],2):t._e()},Xt=[],Zt={props:{toggle:{type:Boolean,required:!0}},name:"QuickModal",methods:{closeModal(){this.$emit("close")}}},te=Zt,ee=Object(d["a"])(te,Kt,Xt,!1,null,"468ad180",null),ae=ee.exports;async function se(){let t=await qt.Authenticate();t?Wt.commit("setUser",t):Tt.push({name:"login"}),new s["a"]({router:Tt,store:Wt,render:t=>t(C)}).$mount("#app")}s["a"].component("QuickModal",ae),s["a"].use(Yt.a),se(),Wt.dispatch("initializeSocket")},"71a9":function(t,e,a){"use strict";var s=a("3ba5"),r=a.n(s);r.a},7276:function(t,e,a){},"79ce":function(t,e,a){"use strict";var s=a("b6cf"),r=a.n(s);r.a},"978e":function(t,e,a){},"981e":function(t,e,a){},a861:function(t,e,a){"use strict";var s=a("981e"),r=a.n(s);r.a},a9af:function(t,e,a){},a9e7:function(t,e,a){},b6cf:function(t,e,a){},b8b6:function(t,e,a){},bf38:function(t,e,a){"use strict";var s=a("978e"),r=a.n(s);r.a},ced1:function(t,e,a){},d6db:function(t,e,a){"use strict";var s=a("a9e7"),r=a.n(s);r.a},dd67:function(t,e,a){"use strict";var s=a("ced1"),r=a.n(s);r.a},ed0c:function(t,e,a){"use strict";var s=a("0e28"),r=a.n(s);r.a},f7c7:function(t,e,a){"use strict";var s=a("a9af"),r=a.n(s);r.a},fb81:function(t,e,a){"use strict";var s=a("b8b6"),r=a.n(s);r.a},fec0:function(t,e,a){}});
//# sourceMappingURL=app.942ad9ba.js.map